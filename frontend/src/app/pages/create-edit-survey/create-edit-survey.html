@let s = survey();

@if (s) {
  <div class="wrapper">
    <div class="header">
      <h1>{{ "survey.settings.edit_title" | transloco }}</h1>
      <span>{{ s.name }}</span>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmitUpdate()">
      <div class="form-group">
        <label>{{ "survey.settings.name" | transloco }}</label>
        <app-input-field formControlName="name"></app-input-field>
      </div>
      <div class="form-group">
        <label>{{ "survey.settings.description" | transloco }}</label>
        <app-input-field formControlName="description"></app-input-field>
      </div>
      <div class="times">
        <div class="form-group">
          <label>{{ "survey.end_time" | transloco }}</label>
          <input type="date" id="endTime" formControlName="endTime">
        </div>
      </div>
      <div class="form-group">
        <label>{{ "survey.settings.import_participants" | transloco }}</label>
        <app-survey-participant-import [survey]="s"></app-survey-participant-import>
      </div>

      <app-button label="{{ 'save' | transloco }}" color="purple"></app-button>
    </form>
  </div>
} @else {
  <div class="wrapper">
    <div class="header">
      <h1>{{ "survey.create" | transloco }}</h1>
      <span></span>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmitCreate()">
      <div class="form-group">
        <label>{{ "survey.settings.name" | transloco }}</label>
        <app-input-field formControlName="name"></app-input-field>
      </div>
      <div class="form-group">
        <label>{{ "survey.settings.description" | transloco }}</label>
        <app-input-field formControlName="description"></app-input-field>
      </div>
      <div class="times">
        <div class="form-group">
          <label>{{ "survey.start_time" | transloco }}</label>
          <input type="date" id="startTime" formControlName="startTime">
        </div>
        <div class="form-group">
          <label>{{ "survey.end_time" | transloco }}</label>
          <input type="date" id="endTime" formControlName="endTime">
        </div>
      </div>
      <div class="form-group">
        <label>{{ "survey.group.group_count" | transloco }}</label>
        <input type="number" min="1" id="groupCount" formControlName="groupCount">
      </div>
      <app-button label="{{ 'save' | transloco }}" color="purple"></app-button>
    </form>
  </div>
}
